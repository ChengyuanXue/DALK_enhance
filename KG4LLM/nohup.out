INFO:__main__:🔬 Using ablation configuration: ablation_kg_guided
INFO:__main__:📋 Configuration details: {'USE_HIERARCHICAL_KG': True, 'USE_MULTI_STRATEGY_LINKING': True, 'USE_ADAPTIVE_UMLS': True, 'USE_UMLS_NORMALIZATION': True, 'USE_REASONING_RULES': True, 'USE_KG_GUIDED_REASONING': False, 'USE_OPTIMIZED_MULTIHOP': True, 'USE_ENHANCED_ANSWER_GEN': True}
INFO:__main__:UMLS API connection successful
INFO:sentence_transformers.SentenceTransformer:Load pretrained SentenceTransformer: sentence-transformers/all-mpnet-base-v2
INFO:sentence_transformers.SentenceTransformer:Use pytorch device: cuda
INFO:__main__:✅ Semantic similarity model loaded successfully
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00,  2.30it/s]Batches: 100%|██████████| 1/1 [00:00<00:00,  2.30it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 53.91it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 110.66it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 67.55it/s]
INFO:__main__:✅ Database already populated, skipping data import
INFO:__main__:💡 To force reload, set environment variable: FORCE_RELOAD_DB=true
INFO:__main__:Loading knowledge graph triples...
INFO:__main__:Loaded 51309 total triples, 51307 valid triples after cleaning
INFO:__main__:Building hierarchical knowledge graph structure...
INFO:__main__:Building hierarchical knowledge structure using enhanced semantic + keyword matching...
Building disease hierarchy:   0%|          | 0/51307 [00:00<?, ?it/s]Building disease hierarchy:   0%|          | 0/51307 [00:17<?, ?it/s]Building disease hierarchy:   2%|▏         | 961/51307 [00:30<26:13, 32.01it/s]Building disease hierarchy:   4%|▎         | 1920/51307 [01:00<25:44, 31.97it/s]Building disease hierarchy:   6%|▌         | 2876/51307 [01:30<25:17, 31.91it/s]Building disease hierarchy:   7%|▋         | 3829/51307 [02:00<24:50, 31.85it/s]Building disease hierarchy:   9%|▉         | 4786/51307 [02:30<24:20, 31.86it/s]Building disease hierarchy:  11%|█         | 5757/51307 [03:00<23:42, 32.02it/s]Building disease hierarchy:  13%|█▎        | 6729/51307 [03:30<23:06, 32.15it/s]Building disease hierarchy:  15%|█▍        | 7683/51307 [04:00<22:42, 32.03it/s]Building disease hierarchy:  17%|█▋        | 8644/51307 [04:30<22:12, 32.03it/s]Building disease hierarchy:  19%|█▊        | 9609/51307 [05:00<21:40, 32.06it/s]Building disease hierarchy:  21%|██        | 10566/51307 [05:30<21:12, 32.01it/s]Building disease hierarchy:  22%|██▏       | 11524/51307 [06:00<20:44, 31.98it/s]Building disease hierarchy:  24%|██▍       | 12485/51307 [06:30<20:13, 31.99it/s]Building disease hierarchy:  26%|██▌       | 13435/51307 [07:00<19:47, 31.89it/s]Building disease hierarchy:  28%|██▊       | 14394/51307 [07:30<19:17, 31.90it/s]Building disease hierarchy:  30%|██▉       | 15354/51307 [08:00<18:45, 31.93it/s]Building disease hierarchy:  32%|███▏      | 16321/51307 [08:30<18:12, 32.02it/s]Building disease hierarchy:  34%|███▎      | 17291/51307 [09:00<17:39, 32.11it/s]Building disease hierarchy:  36%|███▌      | 18246/51307 [09:30<17:12, 32.02it/s]Building disease hierarchy:  37%|███▋      | 19179/51307 [10:00<16:52, 31.74it/s]Building disease hierarchy:  39%|███▉      | 20130/51307 [10:30<16:22, 31.72it/s]Building disease hierarchy:  41%|████      | 21076/51307 [11:00<15:54, 31.66it/s]Building disease hierarchy:  43%|████▎     | 22033/51307 [11:30<15:22, 31.72it/s]Building disease hierarchy:  45%|████▍     | 22994/51307 [12:00<14:50, 31.81it/s]Building disease hierarchy:  47%|████▋     | 23933/51307 [12:30<14:24, 31.65it/s]Building disease hierarchy:  49%|████▊     | 24901/51307 [13:00<13:49, 31.83it/s]Building disease hierarchy:  50%|█████     | 25868/51307 [13:30<13:16, 31.95it/s]Building disease hierarchy:  52%|█████▏    | 26829/51307 [14:00<12:45, 31.97it/s]Building disease hierarchy:  54%|█████▍    | 27801/51307 [14:30<12:12, 32.09it/s]Building disease hierarchy:  56%|█████▌    | 28765/51307 [15:00<11:42, 32.09it/s]Building disease hierarchy:  58%|█████▊    | 29708/51307 [15:30<11:17, 31.89it/s]Building disease hierarchy:  60%|█████▉    | 30668/51307 [16:00<10:46, 31.91it/s]Building disease hierarchy:  62%|██████▏   | 31642/51307 [16:30<10:13, 32.07it/s]Building disease hierarchy:  64%|██████▎   | 32610/51307 [17:00<09:41, 32.13it/s]Building disease hierarchy:  65%|██████▌   | 33570/51307 [17:30<09:12, 32.09it/s]Building disease hierarchy:  67%|██████▋   | 34538/51307 [18:00<08:41, 32.14it/s]Building disease hierarchy:  69%|██████▉   | 35491/51307 [18:30<08:13, 32.02it/s]Building disease hierarchy:  71%|███████   | 36445/51307 [19:00<07:45, 31.95it/s]Building disease hierarchy:  73%|███████▎  | 37425/51307 [19:30<07:11, 32.16it/s]Building disease hierarchy:  75%|███████▍  | 38383/51307 [20:00<06:42, 32.08it/s]Building disease hierarchy:  77%|███████▋  | 39330/51307 [20:30<06:15, 31.92it/s]Building disease hierarchy:  79%|███████▊  | 40284/51307 [21:00<05:45, 31.88it/s]Building disease hierarchy:  80%|████████  | 41250/51307 [21:30<05:14, 31.97it/s]Building disease hierarchy:  82%|████████▏ | 42225/51307 [22:00<04:42, 32.13it/s]Building disease hierarchy:  84%|████████▍ | 43184/51307 [22:30<04:13, 32.08it/s]Building disease hierarchy:  86%|████████▌ | 44141/51307 [23:00<03:43, 32.02it/s]Building disease hierarchy:  88%|████████▊ | 45095/51307 [23:30<03:14, 31.95it/s]Building disease hierarchy:  90%|████████▉ | 46054/51307 [24:00<02:44, 31.95it/s]Building disease hierarchy:  92%|█████████▏| 47010/51307 [24:30<02:14, 31.92it/s]Building disease hierarchy:  94%|█████████▎| 47985/51307 [25:00<01:43, 32.09it/s]Building disease hierarchy:  95%|█████████▌| 48941/51307 [25:30<01:13, 32.02it/s]Building disease hierarchy:  97%|█████████▋| 49895/51307 [26:00<00:44, 31.94it/s]Building disease hierarchy:  99%|█████████▉| 50857/51307 [26:30<00:14, 31.98it/s]Building disease hierarchy: 100%|██████████| 51307/51307 [26:45<00:00, 31.97it/s]
Building symptom hierarchy:   0%|          | 0/51307 [00:00<?, ?it/s]Building symptom hierarchy:   0%|          | 0/51307 [00:12<?, ?it/s]Building symptom hierarchy:   4%|▎         | 1838/51307 [00:30<13:27, 61.23it/s]Building symptom hierarchy:   7%|▋         | 3676/51307 [01:00<12:57, 61.24it/s]